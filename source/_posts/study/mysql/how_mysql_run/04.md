---
title: InnoDB记录存储结构
description: InnoDB记录存储结构
tags:
  - MySQL是怎样运行的
categories:
  - 学习
date: 2023-04-18 20:00:03
updated: 2023-04-18 20:00:03
---

> 学习《MySQL是怎样运行的》，感谢作者！

# 问题

表数据存在哪，以什么格式存放，MySQL以什么方式来访问  
存储引擎：对表中数据进行**存储**和**写入**  
InnoDB是MySQL默认的存储引擎，这章主要讲**InnoDB存储引擎的记录存储结构**

# InnoDB页简介

**注意，是简介**  
InnoDB：将表中的数据**存储到磁盘上**  
真正处理数据的过程：内存中。所以需要**把磁盘中数据加载到内存中**，如果是**写入**或**修改**请求，还需要把**内存**中的内容**刷新到磁盘**上  
获取记录：不是一条条从磁盘读，InnoDB将数据划分为若干个页，以**页**作为**磁盘**和**内存**之间交互的基本单位。页大小-> 一般是16KB   
一般情况：一次最少从磁盘读取16KB的内容**到内存中**，一次最少把内存中的16KB内容**刷新到磁盘**中  

```shell
mysql>  SHOW VARIABLES LIKE 'innodb_page_size';
+------------------+-------+
| Variable_name    | Value |
+------------------+-------+
| innodb_page_size | 16384 |
+------------------+-------+
1 row in set (0.00 sec)
```

只能在第一次初始化MySQL数据目录时指定，之后**再也不能更改**（通过mysqld --initialize初始化数据目录[旧版本]）

# InnoDB行格式

以记录为单位向表中插入数据，而这些记录在**磁盘上的存放形式**也被称为**行格式**或者**记录格式**  
目前有4中**不同类型的行格式**：COMPACT、REDUNDANT、DYNAMIC和COMPRESSED  

> compact [kəmˈpækt]契约  
> redundant[rɪˈdʌndənt] 冗余的  
> dynamic[daɪˈnæmɪk]动态的  
> compressed [kəmˈprest] 压缩的

## 指定行格式的语法

